---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: open-cluster-management-policies

resources:
  - namespace.yaml
  - root-ca.yaml

  # Health Signals
  - failing-ns.yaml
  - health-clusteroperator.yaml
  - health-node.yaml
  - health-clusterversion.yaml
  - health-machineconfigpool.yaml
  - health-mc-addons.yaml

  # Global/Common Policies
  - console-info-header.yaml
  - encrypt-etcd.yaml
  - image-vuln-scanning.yaml
  - openshift-samples-config.yaml
  - enable-internal-registry.yaml
  - hcp-bmh-infra-creds.yaml
  - kyverno-outbound-proxy.yaml

  # RHACM Hub Policies
  #- hub-ocp-update-svc.yaml

  # Operator Installation Policies
  - versioned-operators/
  - operators/

  # Hosted Control Plane, Bare Metal Policies
  - hcp-bmh-console.yaml

  # Hosted Control Plane, KubeVirt Policies

  # Operator instances
  - instance-acs-central.yaml
  - instance-acs-secured-cluster.yaml
  - instance-descheduler.yaml
  - instance-eso.yaml
  #- instance-lso.yaml
  - instance-metallb.yaml
  - instance-mtv.yaml
  - instance-nfd.yaml
  - instance-nmstate.yaml
  - instance-nvidia-gpu.yaml
  - instance-virtualization.yaml

commonAnnotations:
  argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true